define(["app","mui","vue"],function(b,a,h){var c={app:document.getElementById("app"),show:function(){c.app.classList.remove("mui-hidden")},hide:function(){c.app.classList.add("mui-hidden");b.closeError();a("#slider").slider().gotoItem(0)}};new h({el:"#app",data:{par:{eventId:""},o:{}},methods:{load:function(){var a=this;b.showWaiting(1);b.post("api/Events/GetEventsTrip",a.par,function(d){a.o=d;c.show();b.closeWaiting()},function(){b.showError(function(){a.load()});b.closeWaiting()})},like:function(){var e=this;b.User.get().UserID?b.post("api/Events/ClickLike",e.par,function(a){e.o.PNum++}):a.openWindow({id:"wlogin",url:"../login/login.html",show:{aniShow:"slide-in-right"},waiting:{autoShow:!0}}).addEventListener("close",function(){b.User.get().UserID&&(a.fire(plus.webview.getLaunchWebview(),"reload",{type:"userInfo"}),e.load())})}},created:function(){},ready:function(){var b=this;a.init({beforeback:function(){b.o=null;c.hide();return!0}});a.ready(function(){var b=a.os.ios?.003:9E-4;a(".mui-scroll-wrapper").scroll({bounce:!1,indicators:!0,deceleration:b})});a.plusReady(function(){var d,f,g;window.addEventListener("reload",function(c){b.par.eventId=c.detail.id;b.load();d=plus.webview.getWebviewById("wactivity_contestants")||a.preload({url:"contestants.html",id:"wactivity_contestants",styles:{popGesture:"hide"}});f=plus.webview.getWebviewById("wactivity_score")||a.preload({url:"score.html",id:"wactivity_score",styles:{popGesture:"hide"}});g=plus.webview.getWebviewById("wactivity_rule")||a.preload({url:"rule.html",id:"wactivity_rule",styles:{}})});a("#prContestants").on("tap",".y-contestants",function(){a.fire(d,"reload",{id:this.dataset.id,fee:this.dataset.fee,RType:this.dataset.RType});d.show("pop-in")});a("#prContestants").on("tap",".y-score",function(){a.fire(f,"reload",{id:this.dataset.id});f.show("pop-in")});a("#prContestants").on("tap",".y-rule",function(){a.fire(g,"reload",{id:this.dataset.id});g.show("pop-in")});plus.webview.currentWebview().addEventListener("popGesture",function(a){a.type="end";c.hide()},!1)})}})});