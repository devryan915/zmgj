define(["app","mui","vue"],function(b,d,e){new e({el:"#app",data:{par:{newsID:""},o:{Title:""},img:"",navClass:d.os.plus?"y-share":"y-down"},methods:{load:function(){var a=this;b.Cache.igetObject(b.Cache.key.cnewsData.toKeyName(a.par.newsID),function(c){c?(a.o=c,b.closeWaiting(),b.closeError()):b.post("api/News/GetNewsDtl",a.par,function(c){a.o=c;b.closeWaiting();b.Cache.iset(b.Cache.key.cnewsData.toKeyName(a.par.newsID),c)},function(){b.showError(function(){b.showWaiting(1);a.load()})})})}},ready:function(){var a=this;d.init();d.ready(function(){d.os.plus||(a.par.newsID=b.getQueryString("ref.id"),b.Cache.iHasKey(b.Cache.key.cnewsData.toKeyName(a.par.newsID))||b.showWaiting(1),a.load());document.getElementById("btnShare").addEventListener("tap",function(){if(this.classList.contains("y-share")){var c={href:b.webHost+"page/news/detail.html?ref.id\x3d"+a.par.newsID,title:a.o.Title||document.querySelector("header\x3e.mui-title").innerText,content:"\u8981\u9a91\u9a6c\uff0c\u9009\u5929\u9a6c\u3002",thumbs:[a.img+"?iopcmd\x3dthumbnail\x26type\x3d8\x26width\x3d100\x26height\x3d100"]};b.share(c)}else location.href="http://chorse-sports.com/home_zm/app.html"})});d.plusReady(function(){window.addEventListener("reload",function(c){a.par.newsID=c.detail.ref.id;b.Cache.iHasKey(b.Cache.key.cnewsData.toKeyName(a.par.newsID))||b.showWaiting(1);a.o.Title=c.detail.ref.title;a.img=c.detail.ref.img;a.load()});window.addEventListener("unload",function(b){a.o={}});var c=plus.webview.currentWebview();c.ref&&(a.par.newsID=c.ref.id,b.Cache.iHasKey(b.Cache.key.cnewsData.toKeyName(a.par.newsID))||b.showWaiting(1),a.o.Title=c.ref.title,a.img=c.ref.img,a.load())})}})});