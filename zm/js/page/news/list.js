define(["app","mui","vue"],function(d,b,e){new e({el:"#pr",data:{par:{isUp:0,newsType:1},up:0,lower:0,Pages:0,list:[]},methods:{load:function(){var a=this;d.post("api/News/GetNewsPage",a.par,function(c){0==a.par.isUp&&0==a.lower&&(a.up=c.UID,d.Cache.setObject(d.Cache.key.cnewsData.toKeyName(),c.Items),a.list=[]);a.lower=c.LID;a.list=a.list.concat(c.Items);b("#pr").pullRefresh().endPullupToRefresh(-1==a.lower)},function(){b("#pr").pullRefresh().endPullupToRefresh(!1)})}},created:function(){var a=this,c=d.Cache.getArray(d.Cache.key.cnewsData.toKeyName());a.list=c||[];b.init({pullRefresh:{container:"#pr",up:{contentrefresh:"\u6b63\u5728\u52a0\u8f7d...",contentnomore:"\u5df2\u52a0\u8f7d\u5168\u90e8",callback:function(){a.par.idx=a.lower;a.load()}}}});b.os.plus?b.plusReady(function(){setTimeout(function(){b("#pr").pullRefresh().pullupLoading()},1E3)}):b.ready(function(){b("#pr").pullRefresh().pullupLoading()})},ready:function(){b.ready(function(){var a=b.preload({url:"detail.html",id:"wnews_detail",styles:{popGesture:"hide"}});b("#news").on("tap","li",function(){b.os.plus&&(b.fire(a,"newsInfo",{id:this.dataset.id,title:this.dataset.title}),a.show("pop-in"))})})}})});