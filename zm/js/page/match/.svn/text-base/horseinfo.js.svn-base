define(["app","mui","vue"],function(c,d,h){var g=null;new h({el:"#app",data:{par:{horseId:""},urlStr:"api/User/GetHorseInfo",user:c.User.get(),pageData:{pageType:1,itemdata1:{Name:"",Sex:0,Age:0,ClubName:""},itemdata2:{Name:"",Sex:0,Age:0,ClubName:""},itemdata3:{Name:"",Sex:0,Age:0,ClubName:""},direction:""}},computed:{},methods:{edit:function(b){g&&(d.fire(g,"editHorse",{pageType:2,horseData:b}),d.openWindow({id:"me_addhorse"}))},slide:function(b){var a=this,d=a.pageData.direction;slideNumber=b.detail.slideNumber;var e,f;0==slideNumber?e=a.pageData.itemdata1:1==slideNumber?e=a.pageData.itemdata2:2==slideNumber&&(e=a.pageData.itemdata3);"right"===d?(a.par.horseId=e.LastID,f=0<=slideNumber-1?slideNumber-1:2):(f=(slideNumber+1)%3,a.par.horseId=e.NextID);c.post(a.urlStr,a.par,function(b){0==f?a.pageData.itemdata1=b:1==f?a.pageData.itemdata2=b:2==f&&(a.pageData.itemdata3=b);c.loadImg()})},drag:function(b){this.pageData.direction=b.detail.direction;b.stopPropagation()},load:function(b){var a=this;a.par.horseId=b;c.post(a.urlStr,a.par,function(b){a.pageData.itemdata1=b;a.par.horseId=a.pageData.itemdata1.NextID;c.loadImg();b=d(".mui-slider").slider();b.refresh();b.gotoItem(0);c.post(a.urlStr,a.par,function(b){a.pageData.itemdata2=b;c.loadImg()});a.par.horseId=a.pageData.itemdata1.LastID;c.post(a.urlStr,a.par,function(b){a.pageData.itemdata3=b;c.loadImg()})})}},ready:function(){var b=this;d.ready(function(){g=d.preload({id:"me_addhorse",url:"../me/addhorse.html",styles:{popGesture:"hide"}});document.querySelector(".mui-slider").addEventListener("slide",function(a){b.slide(a)});window.addEventListener("horseID",function(a){a.detail.horseID&&(b.pageData.pageType=a.detail.pageType,2==b.pageData.pageType&&(b.urlStr="api/User/GetMyHorseInfo"),b.load(a.detail.horseID))})});d.plusReady(function(){var a=plus.webview.currentWebview();a&&a.horseID&&(b.pageData.pageType=a.pageType,2==b.pageData.pageType&&(b.urlStr="api/User/GetMyHorseInfo"),b.load(a.horseID))})}})});