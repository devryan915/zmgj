define(["app","mui","vue"],function(e,c,f){new f({el:"#pr",data:{par:{pageIndex:0,gPSLo:"",gPSLa:""},list:[],ref:{addr:""}},methods:{load:function(){var a=this;e.post("api/Common/GetAddrRangeMore",a.par,function(d){for(var b=0;b<d.Items.length;b++)a.list.push({txt:d.Items[b]});e.closeWaiting();c("#pr").pullRefresh().endPullupToRefresh(a.par.pageIndex>=d.Pages)},function(){e.closeWaiting();c("#pr").pullRefresh().endPullupToRefresh(!1)})}},ready:function(){var a=this;c.init({pullRefresh:{container:"#pr",up:{contentrefresh:"\u6b63\u5728\u52a0\u8f7d...",contentnomore:"\u5df2\u52a0\u8f7d\u5168\u90e8",callback:function(){a.par.pageIndex++;a.load()}}}});c.ready(function(){});c.plusReady(function(){window.addEventListener("reload",function(b){a.ref=b.detail.ref;e.showWaiting();plus.geolocation.getCurrentPosition(function(b){a.list=[];a.list.push({txt:b.address.city});a.par.gPSLo=b.coords.latitude.toString();a.par.gPSLa=b.coords.longitude.toString();c("#pr").pullRefresh().pullupLoading()},{provider:"baidu"})});window.addEventListener("unload",function(b){a.ref={};a.par.pageIndex=0;c("#pr").pullRefresh().refresh(!0);a.list=[]});var d=plus.webview.currentWebview();d.ref&&(e.showWaiting(),a.ref=d.ref,plus.geolocation.getCurrentPosition(function(b){a.list=[];a.list.push({txt:b.address.city});a.par.gPSLo=b.coords.latitude.toString();a.par.gPSLa=b.coords.longitude.toString();c("#pr").pullRefresh().pullupLoading()},{provider:"baidu"}));c("#ulAddr").on("tap","li",function(){a.ref.addr=this.querySelector("input").value;c.fire(d.opener(),"reAddr",{ref:a.ref});d.hide("pop-out")})})}})});