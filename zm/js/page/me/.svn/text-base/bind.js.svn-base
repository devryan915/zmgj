define(["app","mui","vue"],function(c,d,e){new e({el:"#app",data:{data:{},par:{loginName:"",validCode:""},validCodeStr:"\u83b7\u53d6\u9a8c\u8bc1\u7801",m:60,isSendValidCode:!0},computed:{valid:function(){return{loginName:!!this.par.loginName,validCode:!!this.par.validCode}},validCode:function(){return{isValidCode:!!this.par&&!!this.par.loginName&&this.isSendValidCode}},isValid:function(){var a=this.valid;return Object.keys(a).every(function(b){return a[b]})}},methods:{load:function(){},initpage:function(a){this.data=a},sendValidCode:function(){var a=this;a.isSendValidCode=!1;a.validCodeStr=a.m+"s \u540e\u91cd\u65b0\u83b7\u53d6";t=setInterval(function(){1<a.m?(--a.m,a.validCodeStr=a.m+"s \u540e\u91cd\u65b0\u83b7\u53d6"):(a.isSendValidCode=!0,clearTimeout(t),a.validCodeStr="\u83b7\u53d6\u9a8c\u8bc1\u7801",a.m=60)},1E3);var b={};b.loginName=a.par.loginName;c.post("api/user/GetBindUserVaildCode",b,function(a){d.toast("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f")},function(){a.isSendValidCode=!0;clearTimeout(t);a.validCodeStr="\u83b7\u53d6\u9a8c\u8bc1\u7801";a.m=60})},bindUser:function(){var a=this;c.showWaiting();var b={};b.loginName=a.par.loginName;b.validCode=a.par.validCode;c.post("api/user/BindUser",b,function(b){c.User.set(b);a.par=null;c.closeWaiting();d.toast("\u7ed1\u5b9a\u6210\u529f\uff0c\u7cfb\u7edf\u5373\u5c06\u91cd\u65b0\u542f\u52a8");c.showWaiting(void 0,1);d.os.plus&&d.fire(plus.webview.currentWebview().opener(),"reload",{type:"userInfo"});setTimeout(function(){plus.runtime.restart()},2E3)},function(){c.closeWaiting()})}},ready:function(){d.ready(function(){});d.plusReady(function(){})}})});