define(["app","mui","vue"],function(d,c,l){var f=document.getElementById("searchDiv"),h=document.querySelector(".mui-input-clear");document.getElementById("search").onclick=function(){f&&(h.value="",f.style.display="block")};c.init({swipeBack:!1});var g,k=0;(function(b){document.querySelector(".mui-slider-group").style.height=document.body.scrollHeight-145+"px";b(".mui-scroll-wrapper").scroll({indicators:!0});document.getElementById("slider").addEventListener("slide",function(a){k=a.detail.slideNumber;1===a.detail.slideNumber?(e.queryList.sort(e.sortStrength),g=e.sortStrength):2===a.detail.slideNumber?(e.queryList.sort(e.sortReviews),g=e.sortReviews):3===a.detail.slideNumber&&(e.queryList.sort(e.sortDistance),g=e.sortDistance)});var a=document.getElementById("sliderSegmentedControl");b(".mui-input-group").on("change","input",function(){this.checked&&(a.className="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted mui-segmented-control-"+this.value,sliderProgressBar.setAttribute("style",sliderProgressBar.getAttribute("style")))})})(c);var e=new l({el:"#app",data:{list:[],user:d.User.get(),allList:[],queryList:[],pagePar:{clubID:"",zClubID:"",rClubID:"",dClubID:""},par:{chapterId:0},addClubpar:{clubID:""},chClubpar:{toClubID:""},clubpar:{gt:"",lastDT:""}},computed:{},methods:{copyList:function(){return JSON.parse(JSON.stringify(this.list))},sortStrength:function(b,a){return b.Strength>a.Strength?1:-1},sortReviews:function(b,a){return b.Reviews>a.Reviews?1:-1},sortDistance:function(b,a){return b.Reviews>a.Reviews?1:-1},loadData:function(b){if(b&&b.Units){this.list=[];for(j=i=0;i<b.Units.length;i++)2===b.Units[i].UnitType&&this.user.ClubID!=b.Units[i].UnitID&&(this.list[j]=b.Units[i],j++);d.Cache.sset(d.Cache.key.clubData.toKeyName(),b);for(i=0;i<this.list.length;i++)this.list[i].distance=12,this.list[i].content=i+"cobnteatd";this.allList=this.copyList();this.queryList=this.copyList();d.loadImg()}else c.toast("\u65e0\u4ff1\u4e50\u90e8\u4fe1\u606f")},load:function(){var b=this;b.clubpar.gt="1";b.clubpar.lastDT="2001-1-1";var a=d.Cache.sget(d.Cache.key.clubData.toKeyName());a?b.loadData(a):d.post("api/Static/GetUnitChapters",b.clubpar,function(a){b.loadData(a)})},onclickCloseBackDrop:function(){f&&(f.style.display="none")},onclickSearchComplete:function(){if(h){var b=h.value;if(b&&0<b.length){this.allList=[];this.queryList=[];var a=0;for(i=0;i<this.list.length;i++)0<=this.list[i].Name.indexOf(b)&&(this.allList[a]=this.list[i],this.queryList[a]=this.list[i],a++)}else this.allList=this.copyList(),this.queryList=this.copyList();this.queryList.sort(g)}this.onclickCloseBackDrop()},ok:function(){plus.webview.currentWebview();var b;switch(k){case 0:b=this.pagePar.clubID;break;case 1:b=this.pagePar.zClubID;break;case 2:b=this.pagePar.rClubID;break;case 3:b=this.pagePar.dClubID}if(b){var a=this;if(a.user.IsChangClub){this.chClubpar.toClubID=b;a.user.ClubID=a.chClubpar.clubID;for(i=0;i<a.list.length;i++)if(a.list[i].UnitID===a.chClubpar.clubID){a.user.ClubName=a.list[i].Name;break}d.post("api/User/ApplyChangeClub",this.chClubpar,function(b){d.User.set(a.user);c.toast("\u8f6c\u5165\u4ff1\u4e50\u90e8"+a.user.ClubName+"\u6210\u529f");(b=plus.webview.getWebviewById("mycertification"))?(c.fire(b,"clubID",{clubID:a.user.ClubID}),c.openWindow({id:"mycertification"})):c.openWindow({id:"mycertification",url:"mycertification.html",show:{aniShow:!1},waiting:{autoShow:!1}})})}else a.addClubpar.clubID=b,d.post("api/User/InClub",this.addClubpar,function(b){a.user.ClubID=a.addClubpar.clubID;for(i=0;i<a.list.length;i++)if(a.list[i].UnitID===a.addClubpar.clubID){a.user.ClubName=a.list[i].Name;break}d.User.set(a.user);c.toast("\u52a0\u5165\u4ff1\u4e50\u90e8"+a.user.ClubName+"\u6210\u529f");(b=plus.webview.getWebviewById("mycertification"))?(c.fire(b,"clubID",{clubID:a.user.ClubID}),c.openWindow({id:"mycertification"})):c.openWindow({id:"mycertification",url:"mycertification.html",show:{aniShow:!1},waiting:{autoShow:!1}})})}}},ready:function(){var b=this;c.ready(function(){b.load();window.addEventListener("riderID",function(a){})})}})});