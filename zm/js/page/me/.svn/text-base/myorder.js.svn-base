define(["app","mui","vue","mui.pullToRefresh","mui.pullToRefresh.material"],function(f,d,p){new p({el:"#app",data:{parList:[{par:{postType:1,pageIndex:0,pageSize:10,oldMD5:""},list:[]},{par:{postType:3,pageIndex:0,pageSize:10,oldMD5:""},list:[]},{par:{postType:2,pageIndex:0,pageSize:10,oldMD5:""},list:[]}],selectTabIndex:1,selectItem:{listindex:-1,index:0}},computed:{},methods:{load:function(){}},ready:function(){var a=this;d.ready(function(){var m=d.os.ios?.003:9E-4;d(".mui-scroll-wrapper").scroll({bounce:!1,indicators:!0,deceleration:m});d.init({gestureConfig:{}});var n={slider1:!1};document.getElementById("slider").addEventListener("slide",function(b){try{a.selectTabIndex=b.detail.slideNumber,n["slider"+a.selectTabIndex]||(n["slider"+a.selectTabIndex]=!0,d(".mui-slider-group .mui-scroll").pullToRefresh()[a.selectTabIndex].pullUpLoading())}catch(q){}});d.each(document.querySelectorAll(".mui-slider-group .mui-scroll"),function(b,m){d(m).pullToRefresh({down:{callback:function(){var k=this;a.user=f.User.get();a.parList[b].par.pageIndex=1;f.post("api/Posting/GetPosts",a.parList[b].par,function(e){a.user=f.User.get();if(e.Items&&0<e.Items.length){for(var g=0;g<e.Items.length;g++){var h=e.Items[g],c=h.IssDT,l=999999;c&&(c=c.replace("T"," ").replace("+08:00","").replace(/-/g,"/"),0<c.lastIndexOf(".")&&(c=c.substring(0,c.lastIndexOf("."))),l=new Date-new Date(c));h.CantRevoke=a.user.UserID==h.UserID&&6E5>=l?"":"mui-hidden"}a.parList[b].list=e.Items;a.parList[b].par.oldMD5=e.Other;k.refresh(!0);k.endPullDownToRefresh();k.endPullUpToRefresh(a.parList[b].par.pageIndex>=e.Pages);f.loadImg();f.ellipsisToggle();d.toast(a.parList[b].par.pageIndex+"/"+e.Pages)}else{for(g=0;g<a.parList[b].list.length;g++)h=a.parList[b].list[g],c=h.IssDT,l=999999,c&&(c=c.replace("T"," ").replace("+08:00","").replace(/-/g,"/"),0<c.lastIndexOf(".")&&(c=c.substring(0,c.lastIndexOf("."))),l=new Date-new Date(c)),h.CantRevoke=a.user.UserID==h.UserID&&6E5>=l?"":"mui-hidden";k.endPullDownToRefresh();d.toast("\u5df2\u7ecf\u662f\u6700\u65b0\u6570\u636e\u4e86")}},function(){a.parList[b].par.pageIndex--;k.endPullDownToRefresh()})}},up:{auto:!1,callback:function(){var k=this;a.parList[b].list&&1>a.parList[b].list.length&&(a.parList[b].par.pageIndex=0);a.parList[b].par.pageIndex++;f.post("api/Posting/GetPosts",a.parList[b].par,function(e){a.user=f.User.get();for(var g=0;g<e.Items.length;g++){var h=e.Items[g],c=h.IssDT,l=999999;c&&(c=c.replace("T"," ").replace("+08:00","").replace(/-/g,"/"),0<c.lastIndexOf(".")&&(c=c.substring(0,c.lastIndexOf("."))),l=new Date-new Date(c));h.CantRevoke=a.user.UserID==h.UserID&&6E5>=l?"":"mui-hidden"}1==a.parList[b].par.pageIndex?(a.parList[b].list=e.Items,a.parList[b].par.oldMD5=e.Other):(a.parList[b].par.oldMD5="",a.parList[b].list=a.parList[b].list.concat(e.Items));k.endPullUpToRefresh(a.parList[b].par.pageIndex>=e.Pages);f.loadImg();f.ellipsisToggle();d.toast(a.parList[b].par.pageIndex+"/"+e.Pages)},function(){a.parList[b].par.pageIndex--;k.endPullUpToRefresh(!1)})}}})});d.os.plus||d.toast("muiReady"+f.getQueryString("ref.type"));d(".mui-card-footer").on("tap","button",function(){switch(this.dataset.id){case "1":d("#cancelopop").popover("toggle");break;case "2":f.openPage("../rider/paybill.html","rider_paybill",a.data,function(a){});break;case "3":f.openPage("../rider/reservation.html","rider_reservation",a.data,function(a){});break;case "4":plus.nativeUI.confirm("\u60a8\u662f\u5426\u8981\u7533\u8bf7\u9000\u6b3e",function(b){1==b.index&&f.openPage("../me/refundbill.html","rider_refundbill",a.data,function(a){})},"",["\u70b9\u9519\u4e86","\u786e\u5b9a"]);break;case "5":f.openPage("../rider/addcomment.html","rider_addcomment",a.data,function(a){});break;case "6":plus.nativeUI.confirm("\u60a8\u662f\u5426\u8981\u5220\u9664\u8ba2\u5355",function(a){},"",["\u70b9\u9519\u4e86","\u786e\u5b9a"])}});d("body").on("shown",".mui-popover",function(a){});d("body").on("hidden",".mui-popover",function(a){});d("#cancelopop").on("tap","button",function(){d("#cancelopop").popover("toggle")})});d.plusReady(function(){window.addEventListener("reload",function(a){});window.addEventListener("unload",function(a){});plus.webview.currentWebview()})}})});