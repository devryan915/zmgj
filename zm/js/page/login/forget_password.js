define(["app","mui","vue"],function(b,d,e){new e({el:"#app",data:{par:{loginName:"",validCode:"",password:""},validCodeStr:"\u83b7\u53d6\u9a8c\u8bc1\u7801",m:60,remember:!0,isSendValidCode:!0},computed:{valid:function(){return{loginName:!!this.par.loginName,password:b.reg.password.test(this.par.password),validCode:!!this.par.validCode,remember:!!this.remember}},validCode:function(){return{isValidCode:!!this.par.loginName&&this.isSendValidCode}},isValid:function(){var a=this.valid;return Object.keys(a).every(function(b){return a[b]})}},methods:{pact:function(){b.Cache.set(b.Cache.key.cpageUrl.toKeyName(),"http://lyr.yigemed.com/userAgreement.html");b.Cache.set(b.Cache.key.cpageTitle.toKeyName(),"\u670d\u52a1\u534f\u8bae");d.openWindow({url:"../pub/other.html",id:"wpact",createNew:!0,show:{aniShow:"pop-in",duration:300},waiting:{autoShow:!0}})},editPassword:function(){b.showWaiting();b.post("api/User/ForgetPwd",this.par,function(a){b.User.set(a);b.log(a);a=plus.webview.getLaunchWebview();var c=b.Cache.getBoolean("gotab")?"gotab":"reload";d.fire(a,c,{type:"userInfo"});c=plus.webview.getWebviewById("wlogin");a=plus.webview.currentWebview();b.closeWaiting();c.hide("none");c.close();a.hide("none");a.close()},function(){b.closeWaiting()})},sendValidCode:function(){var a=this;a.isSendValidCode=!1;a.validCodeStr=a.m+"s \u540e\u91cd\u65b0\u83b7\u53d6";var c=setInterval(function(){1<a.m?(--a.m,a.validCodeStr=a.m+"s \u540e\u91cd\u65b0\u83b7\u53d6"):(a.isSendValidCode=!0,clearTimeout(c),a.validCodeStr="\u83b7\u53d6\u9a8c\u8bc1\u7801",a.m=60)},1E3);b.post("api/user/GetVerifyCode",{mobileNum:this.par.loginName,vcType:3},function(a){d.toast("\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f")},function(){a.isSendValidCode=!0;clearTimeout(c);a.validCodeStr="\u83b7\u53d6\u9a8c\u8bc1\u7801";a.m=60})}},ready:function(){d.ready(function(){})}})});