define(["app","mui","vue"],function(b,c,g){new g({el:"#app",data:{par:{loginName:"",password:"",sn:""},auths:[],show:!1},computed:{isValid:function(){return!!this.par.loginName&&!!this.par.password}},methods:{login:function(){var d=this;b.showWaiting();if(c.os.plus){var a=plus.push.getClientInfo();d.par.other={push:{clientid:a.clientid,token:a.token},device:plus.device,screen:plus.screen,os:plus.os};d.par.other=JSON.stringify(d.par.other)}b.post(b.method.user_login,d.par,function(a){a.loginName=d.par.loginName;b.User.set(a);b.hideKeyboard();a=b.Cache.getBoolean("gotab")?"gotab":"reload";c.fire(plus.webview.getLaunchWebview(),a,{type:"userInfo"});c.fire(plus.webview.getWebviewById("wdynamic_list"),"reload",{});b.closeWaiting();var e=plus.webview.currentWebview();e.hide("none");setTimeout(function(){e.close()},5E3)},function(){b.closeWaiting()})},register:function(){c.openWindow({id:"wregister",url:"register.html",show:{aniShow:"slide-in-right"},waiting:{autoShow:!1},styles:{popGesture:"hide"}})},forget_password:function(){c.openWindow({id:"wforget_password",url:"forget_password.html",show:{aniShow:"slide-in-right"},waiting:{autoShow:!1},styles:{popGesture:"hide"}})}},ready:function(){var d=this;c.plusReady(function(){plus.webview.currentWebview().addEventListener("popGesture",function(a){a.type="end";b.hideKeyboard()},!1);plus.oauth.getServices(function(a){var c=["weixin","qq"],e;for(e in a){var f=a[e];~c.indexOf(f.id)&&b.isInstalled(f.id)&&d.auths.push(f)}});c("#divOauth").on("tap","a",function(){var a=d.auths[this.dataset.index];a.logout(function(){a.login(function(){a.getUserInfo(function(){c.toast("\u767b\u5f55\u6388\u6743\u6210\u529f");b.log("\u6388\u6743\u4fe1\u606f:::"+JSON.stringify(a.authResult));b.log("\u7528\u6237\u4fe1\u606f:::"+JSON.stringify(a.userInfo))},function(a){b.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff1a"+a.message)})})},function(){})})})}})});